{% if entriesType is defined %}
  {% set entries = craft.entries.section(channel).type(entriesType) %}
{% else %}
  {% set entries = craft.entries.section(channel) %}
{% endif %}

{% set yearPrev = '' %}

{% paginate entries.limit(limit) as pageInfo, pageEntries %}

{% for entry in pageEntries %}
  {% set isExternalPost = (entry.type == 'externalPost') %}
  {% set isLink = (entry.type == 'link') %}
  {% set entryURL = isExternalPost or isLink ? entry.postURL : entry.url %}
  {% set entryModifier = isExternalPost or isLink ? 'external' : 'local'  %}

  {# Show only unique years in _posts-titles #}
  {% set entryYear = entry.postDate.format('Y') %}
  {% set yearUnique = (yearPrev == '' or yearPrev != entryYear) ? entryYear : '' %}
  {% set yearPrev = entryYear %}

  {% include 'elements/components/posts/_posts-' ~ type %}
{% endfor %}

<nav class="c-pagination">
  <ul class="c-pagination_list u-grid">
    {% if pageInfo.prevUrl %}
      <li class="u-grid-cell c-pagination_item c-pagination_item--prev">
        <a href="{{ pageInfo.prevUrl }}" class="c-pagination_link">&larr; <u>Newer posts</u></a>
      </li>
    {% endif %}
    {% if pageInfo.nextUrl %}
      <li class="u-grid-cell c-pagination_item c-pagination_item--next">
        <a href="{{ pageInfo.nextUrl }}" class="c-pagination_link"><u>Older posts</u> &rarr;</a>
      </li>
    {% endif %}
  </ul>
</nav>
